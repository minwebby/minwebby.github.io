<!DOCTYPE html lang="en">
<!---
	If you are looking at this, you probably DO want to put these effects on your site.
	Look around for all the messy code you can find. Use it, if you like. And see for yourself how hard it is to manage these things...
	But if you really want to be ON the cutting edge of this stuff... Let us know by signing up.
-->
<html>
	<head>
		<title>Flitwick - Web Effects for Designers and the rest of us</title>
		<meta name="description" content="Tool for discovering and adding special effects in web content." />
		<meta name="keywords" content="special effects, web effects, animation, 3D effects, 3D effects" />
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="bower_components/font-awesome/css/font-awesome.min.css" type="text/css" rel="styleshet" />
		<link href="bower_components/bootstrap/dist/css/bootstrap.min.css" type="text/css" rel="stylesheet" />
		<link href="src/theme/css/animate.min.css" type="text/css" rel="stylesheet" />
		<link href="src/theme/css/creative.css" type="text/css" rel="stylesheet" />
		<link href="bower_components/bootstrap-toggle/css/bootstrap-toggle.min.css" rel="stylesheet">

		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		  ga('create', 'UA-65105262-1', 'auto');
		  ga('send', 'pageview');
		</script>
	</head>
	<body id="page-top" onload="init();">
		<div class="title-text title-main">

    	</div>
		<div id="mainCarousel" class="carousel slide" data-ride="carousel" >
			<!-- Wrapper for slides -->
			<div class="carousel-inner" role="listbox">
			    <div class="item active">
			      	<section class="header" id="jellyFish">

				    	<div id="mainHeader">
				    		<div id="bgholder">
				    		</div>
				    	</div>
				    </section>
				    <div class="carousel-caption">
				    	<img src="src/theme/img/fw1.png"/>
        				<div class="subtitle">An online tool for creating visual motion effects for the web.</div>
        			<!-- 	<div class="enable-btn-carrier magic-holder" onclick="effects.ef1(event);"
        					id="firstTip"
        					data-toggle="tooltip" data-placement="left" title="Click this Wand!&nbsp; &nbsp;(And all the others..)"
        					>
			      			&nbsp;
			      		</div> -->

			      		<div class="switch">
						  <input id="cmn-toggle-1" class="cmn-toggle cmn-toggle-round" type="checkbox">
						  <label for="cmn-toggle-1"
						  	id="firstTip"
						  	onclick="effects.ef1(event);"
        					data-toggle="tooltip" data-placement="left" 
        					title="Click this Wand!&nbsp; &nbsp;"
						  ></label>
						</div>

				    </div>
			    </div>
			    <div class="item">
			       	<section id="explain" class="vertical-center">
				    	<div class="row top-level-row" id="planeCarousel">
			            	<div class="planecarousel-img" data-toggle="tooltip" data-placement="top" title="Compose Content" >
			            		<img src="/src/theme/img/sld1.png" class="slide" style="border: 3px solid #fff"  />
			            	</div>
			            	<div class="planecarousel-img" data-toggle="tooltip" data-placement="top" title="Use the Elements to Create Effects">
			            		<img src="/src/theme/img/sld2.png" class="slide" />
			            	</div>
			            	<div class="planecarousel-img" data-toggle="tooltip" data-placement="top" title="Use Templates to Get Your Job Done">
			            		<img src="/src/theme/img/sld3.png" class="slide"/>
			            	</div>
			            </div>
				    	<div class="row top-level-row carousel" id="carousel"></div>
			    	</section>
			    	<div class="carousel-caption">
		    			<h2 class="section-heading">What Flitwick Lets You Do</h2>
		            	<p id="carouselSubHeading">Play with the elements, or use templates to create beautiful 3D animation effects.</p>
		            	<!-- <div class="enable-btn-carrier magic-holder" onclick="effects.ef2(event);">
			      			&nbsp;
			      		</div> -->
			      		<div class="switch">
						  <input id="cmn-toggle-2" class="cmn-toggle cmn-toggle-round" type="checkbox">
						  <label for="cmn-toggle-2"	onclick="effects.ef2(event);"></label>
						</div>
			    	</div>
			    </div>
			    <div class="item">
			    	<section class="row text-center effect-type-holder product-showcase-holder top-level-row" id="cameraFx">
						<div class="row top-level-row text-center vertical-center" >
			                <div id="effects3D" class="effect-sampler effect-holder">
			                </div>
			            </div>
			        </section>
			        <div class="carousel-caption">
			        	<h2 class="carousel-heading">Create Product Showcases</h2>
			            <p>Flitwick helps your users experience your full 360 imagination.</p>
			            <div class="switch">
						  <input id="cmn-toggle-3" class="cmn-toggle cmn-toggle-round" type="checkbox">
						  <label for="cmn-toggle-3"	onclick="effects.ef3(event);"></label>
						</div>
			        </div>
			    </div>
			    <div class="item">
			    	<section class="row text-center effect-type-holder product-showcase-holder top-level-row" id="controlsFx">
						<div class="row text-center top-level-row vertical-center" >
			                <div id="effectControls" class="effect-sampler effect-holder">
			        	     </div>
			        	</div>
			           <!--  <div class="nav-btn-holder scroll-down-arrow" id="nv10">
			            	<a href="#freeform" class="btn page-scroll" id="downscroll1"
								     style="transform: rotate(90deg); font-size: 40px; color: #fff;">
								    	<span class="btm-scroll-btn">&#57472;&#57472;</span>
							</a>
			            </div> -->
					</section>
					<div class="carousel-caption">
					 	<h2 class="carousel-heading">Create Backgrounds</h2>
		                <p>Create amazing animated backgrounds and controls.</p>
		                <!-- <div class="enable-btn-carrier magic-holder" onclick="effects.ef4(event);">
			      			&nbsp;
			      		</div> -->
			      		 <div class="switch">
						  <input id="cmn-toggle-4" class="cmn-toggle cmn-toggle-round" type="checkbox">
						  <label for="cmn-toggle-4"	onclick="effects.ef4(event);"></label>
						</div>
					</div>
			    </div>
			    <div class="item">
			    	<section  id="freeform" style="text-align: center;">
				    	<div class="row top-level-row vertical-center" style="margin: auto; width: 85%; text-align: center;">
				    		<div class="freeform-img" id="lightFx" style="margin: auto;">
			                	<div class="effect-holder">
				                    <h2 class="carousel-heading">Light</h2>
				                    <p>Use light to let your users see your best.</p>
				                </div>
				                <div class="text-center effect-holder-outer">
			                		<div id="effectsSampler" class="effect-sampler effect-holder" >
				                	</div>
				            	</div>
			            	</div>

			            	<div class="freeform-img" id="shapeFx" style="margin: auto;">
			            		<div class="effect-holder">
				                    <h2 class="carousel-heading">Shape</h2>
				                    <p>Make objects dance to your tunes with Flitwick.</p>
				                </div>
				                <div class="text-center effect-holder-outer">
					            	<div id="effectsText1" class="effect-sampler effect-holder">
					            		<div class="comic" id="comic">
					            			Shapes
					            		</div>
						            </div>
						        </div>
				            </div>

			            	<div class="freeform-img" id="colorFx" style="margin: auto;">
			            		<div class="effect-holder">
				                	<h2 class="carousel-heading">Color</h2>
				                    <p>Bring out your true colors in Flitwick.</p>
				                </div>
				                <div class="text-center effect-holder-outer">
					            	<div id="effectsColor1" class="effect-sampler effect-holder">
					            		<img src="/src/theme/img/tulips.jpg"  width="375" height="250" id="tulipImg"/>
					                </div>
					            </div>
				             </div>

				        </div>
			    	</section>
			    	<div class="carousel-caption">
			    		<h2 class="carousel-heading">Create Freeform effects</h2>
	                    <p>You can design your own effects playing with the visual elements.</p>
	                 <!--    <div class="enable-btn-carrier magic-holder" onclick="effects.ef5(event);">
			      			&nbsp;
			      		</div> -->
			      		<div class="switch">
						  <input id="cmn-toggle-5" class="cmn-toggle cmn-toggle-round" type="checkbox">
						  <label for="cmn-toggle-5"	onclick="effects.ef5(event);"></label>
						</div>
			    	</div>
		    	</div>
			</div>
			<!-- controls -->
			<!-- <div class="nav-btn-holder scroll-down-arrow" id="nv6">
            	<a href="#iconfx" class="btn page-scroll" id="downscroll1"
					     style="transform: rotate(90deg); font-size: 40px; color: #fff;">
					    	<span class="btm-scroll-btn">&#57472;&#57472;</span>
				</a>
            </div> -->
            <a class="left carousel-control" href="#mainCarousel" role="button" data-slide="prev">
			    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
			    <span class="sr-only">Previous</span>
			</a>
			<a class="right carousel-control" href="#mainCarousel" role="button" data-slide="next"

			>
				<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" id="secondTip"
        		data-toggle="tooltip" data-placement="left" title="More this way"></span>
				<span class="sr-only">Next</span>
			</a>
		</div>
		<div id="thirdTip" data-toggle="tooltip" data-placement="top" title="Seen Enough? Scroll Down.."
			class="nav-btn-holder scroll-down-arrow">
			<a href="#iconfx" class="btn page-scroll" id="downscroll1"
				     style="transform: rotate(90deg); font-size: 40px; color: #fff;">
				    	<span class="btm-scroll-btn">&#57472;</span>
			</a>
        </div>
		<section class="row top-level-rowtext-center effect-type-holder free-form-effects top-level-row" id="iconfx">
			<div class="row top-level-row text-center">
                <h2 id="logosHeading"  class="carousel-heading">Features</h2>
                <p id="logosSubHeading">Still not convinced. Look at the whole set of features.</p>
               <!--  <div class="enable-btn-carrier magic-holder" style="left: 20vw; top: 1vh;"  onclick="effects.ef6(event);">
	           		&nbsp;
            	</div> -->
            	 <div class="switch">
						  <input id="cmn-toggle-6" class="cmn-toggle cmn-toggle-round" type="checkbox">
						  <label for="cmn-toggle-6"	onclick="effects.ef6(event);"></label>
				</div>
            </div>
        	<div class="vsep vsep20">&nbsp;</div>
    	 	<div class="row top-level-row">
    	 		<div class="row">
    	 			<table class="col-lg-4">
            			<tr>
            			<td class="first">
            				<div id="iconshine1"> <img src="/src/theme/img/fxtemple.png" class="iconImage" /> </div>
            			</td>
						<td>
							<div class="small-heading">Effect Templates</div>
        					<div class="desc">Choose from hundreds of effect templates. Compose them to your heart's fill.</div>
        				</td>
        				</tr>
        			</table>

	    	 		<table class="col-lg-4">
            			<tr>
            			<td class="first">
            				<div id="iconshine2"> <img src="/src/theme/img/psready.png" class="iconImage" /></div>
            			</td>
            			<td>
            				<div class="small-heading">Photoshop Ready</div>
    						<div class="desc">Import your PSD files and play with effects on different layers.</div>
        				</td>
        				</tr>
	        		</table>
	    	 		<table class="col-lg-4">
            			<tr>
            			<td class="first">
            				<div id="iconshine3">
            					<img src="/src/theme/img/mobilerd.png" class="iconImage"/>
            				</div>
            			</td>
						<td>
            				<div class="small-heading">Mobile ready</div>
    						<div class="desc">Most effects work incredibly well on mobile devices too.</div>
    					</td>
        				</tr>
        			</table>
	    	 	</div>
	    	 	<div class="row">
	    	 		<table class="col-lg-4">
            			<tr>
            			<td  class="first">
            				<div id="iconshine4"> <img src="/src/theme/img/hltemple.png" class="iconImage" /></div>
            				</td>
            			<td>
	            			<div class="small-heading">Higher-Level Templates</div>
        					<div class="desc">Create carousels, slide views, and other high-level structures easily.</div>
        				</tr>
        			</table>
	    	 		<table class="col-lg-4">
            			<tr>
            			<td  class="first">
            				<div id="iconshine5"> <img src="/src/theme/img/imglib.png" class="iconImage" /></div>
            			</td>
            			<td>
	            			<div class="small-heading">Image Library</div>
        					<div class="desc">Find inspiration in thousands of stock images.</div>
        				</tr>
        			</table>
    	 			<table class="col-lg-4">
            			<tr>
            			<td  class="first">
            				<div id="iconshine6"> <img src="/src/theme/img/expfmt.png" class="iconImage" /></div>
            			</td>
            			<td>
	            			<div class="small-heading">Multiple Export Formats</div>
        					<div class="desc">Export to HTML bundle (default), video and even spritesheets.</div>
        				</tr>
        			</table>
	    	 	</div>
    	 	</div>

            <div class="nav-btn-holder scroll-down-arrow" id="nv8">
            	<a href="#howworks" class="btn page-scroll" id="downscroll1"
					     style="transform: rotate(90deg); font-size: 40px; color: #fff;">
					    	<span class="btm-scroll-btn">&#57472;&#57472;</span>
				</a>
            </div>
		</section>
	    <section class="bg-primary text-center" id="howworks" style="padding-top: 40px;">
    		<div class="row text-center top-level-row">
                <h2 class="carousel-heading">How Flitwick works..</h2>
                <p>Magically ofcourse...</p>
            </div>
            <div class="vsep vsep20">&nbsp;</div>
             <iframe width="50%" height="50%"
             style="margin: auto;"
             src="https://www.youtube.com/embed/872Z-o9HRzg?showinfo=0&rel=0" frameborder="0" allowfullscreen></iframe>

             <div class="nav-btn-holder scroll-down-arrow" id="nv15">
            	<a href="#contact" class="btn page-scroll" id="downscroll1"
					     style="transform: rotate(90deg); font-size: 40px; color: #fff;">
					    	<span class="btm-scroll-btn">&#57472;&#57472;</span>
				</a>
            </div>
        </section>
	    <!-- <section class="bg-primary" id="features">
	        <br/>
            <div class="col-lg-8 col-lg-offset-2 text-center">
                <a href="#contact" class="btn btn-primary btn-xl">Sign Up for Private Beta</a>
            </div>
	    </section> -->
	    <section class="bg-secondary" id="contact">
	        <div class="container">
	            <div class="row">
	                <div class="col-lg-8 col-lg-offset-2 text-center">
	                    <hr class="primary">
	                    <h2 class="section-heading">Let's Get In Touch!</h2>

	                    <p style="width: 320px; margin: auto; text-align: left;">Flitwick is still in the works. Leave us your contact details, and we will get back to you as soon as possible.</p>
	                    <div class="vsep vsep10">&nbsp;</div>
	                    <iframe src="http://goo.gl/forms/sD19Esg48L" width="600" height="400" style="overflow-y: hidden;" scrolling="no"></iframe>
	                </div>
	            </div>
	        </div>
	        <div class="nav-btn-holder scroll-down-arrow" id="nv16">
            	<a href="#page-top" class="btn page-scroll" id="downscroll1" style="transform: rotate(-90deg); font-size: 40px; color: #fff;"><span class="btm-scroll-btn">&#57472;&#57472;</span>
				</a>
            </div>
	    </section>
	    <script id="vs0" type="x-shader/x-vertex">
			varying vec2 vUv;
			void main()
			{
				vUv = uv;
				vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
				gl_Position = projectionMatrix * mvPosition;
			}
		</script>
		<script id="vs1" type="x-shader/x-vertex">
			uniform float time;
			uniform float size;
			uniform float scale;
			uniform vec3 cameraVec;
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			const vec4 lightPos = vec4(10.0, 10.0, 10.0, 1.0);

			void main() {
				gl_PointSize = 0.5;
				vec4 pos = vec4(position, 1.0);
				pos.x += sin( time * 10.0 )  * cos(time) * 0.02;
				pos.y += cos( time * 10.0 + pos.y)  * 0.2;
				vec4 mvPosition = modelViewMatrix * pos;
				vec4 posit = projectionMatrix * mvPosition;

				gl_Position = posit;
				eyePos = normalize(lightPos - posit);
				eyeNormal = normalize(viewMatrix * vec4(normal, 1.0));
			}
		</script>
		<script id="fs0" type="x-shader/x-fragment">
			uniform float time;
			uniform vec2 resolution;
			uniform sampler2D texture;
			varying vec2 vUv;
			void main( void ) {
				vec3 color = texture2D( texture, vUv).rgb;
				float rTime = mod(time, 31.4);
				float f0 = sin((31.4 * vUv.x) - rTime) / 100.0;
				float f1 = cos((31.4 * vUv.x) - 2.0*rTime) / 100.0;
				vec2 neUV = vec2(vUv.x , vUv.y + f0 + f1);
				vec3 ne = texture2D(texture, neUV).rgb;
				float gray = 0.3 * color.r + 0.59 * color.g + 0.11 * color.b;
				float grayDiff = sin(gray * 1.17) / 5.0;
				vec3 clr =  ne + vec3(grayDiff, grayDiff, grayDiff);
				float norr = (clr.r + clr.g + clr.b) / 8.0;
				clr = vec3(clr.r - norr, clr.g - norr, clr.b - norr);
				float gr2 = 0.3 * clr.r + 0.59 * clr.g + 0.11 * clr.b ;
				float stime = 0.2 * sin(time/5.0);
				vec3 clr2 = (0.8 + stime) * vec3(gr2, gr2, gr2)   + (0.2 - stime) * clr;
				gl_FragColor = vec4(clr2, 1.0 );
			}
		</script>
		<script id="fs1" type="x-shader/x-fragment">
			uniform vec2 resolution;
			uniform sampler2D texture;
			uniform float posX;
			uniform float posY;
			uniform float radius;
			uniform float aspectRatioSq;
			varying vec2 vUv;
			void main( void ) {
				vec3 color = texture2D( texture, vUv).rgb;
				float dist = sqrt((posX - vUv.x)*(posX - vUv.x)*aspectRatioSq + (posY - vUv.y)*(posY - vUv.y));
				float fract = (1.0 - dist*dist*dist*dist);
				if (dist > radius) {
					dist -= radius;
					fract = exp(dist * -2.0);
				}
				vec3 clr = vec3(color.r * fract, color.g * fract, color.b * fract);
				gl_FragColor = vec4( clr, 1.0 );
			}
		</script>
		<script id="fs2" type="x-shader/x-fragment">
			uniform float time;
			uniform float scroll;
			uniform vec3 color;
			uniform float opacity;
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			void main( void ) {
				vec4 r = reflect(-eyePos, eyeNormal);
			    vec4 v = normalize(-eyePos);
			    float spec = max(dot(v, r), 0.0);
			    float diff = max(dot(eyeNormal, eyePos), 0.0) + abs(sin(scroll));
			    vec3 diffColor = diff * color;
			    vec3 specColor = pow(spec, 10.0) * vec3(0.8, 0.8, 0.8);
			    vec3 ambientColor = vec3(0.1, 0.1, 0.1);
			    vec3 clr =  diffColor +  specColor + ambientColor;
			    gl_FragColor = vec4(clr, 1.0);
			}
		</script>
		<script id="fs3" type="x-shader/x-fragment">
			uniform sampler2D texture;
			uniform sampler2D noiseTexture;
			uniform float centerX;
			uniform float centerY;
			varying vec2 vUv;
			void main( void ) {
				vec3 color = texture2D( texture, vUv).rgb;
				float randomNum = texture2D(noiseTexture, vUv).r;
				float jx = vUv.x - centerX;
				float jy = vUv.y - centerY;
				float dist = sqrt(jx*jx*2.7 + jy*jy) / 3.0;
				dist += sin(vUv.x + vUv.y) * randomNum / 2.0;
				float diff = randomNum - dist;
				if (diff > 0.003) {
					vec3 clr = color;
					float yFactor = jy * jy * jy;
					float xFactor = jx * jx * jx * jx * jx;
					float xx = vUv.x + xFactor;
					float yy = vUv.y + yFactor;
					if (xx >= 0.0 && xx <= 1.0 && yy >= 0.0 && yy <= 1.0) {
						clr = texture2D(texture, vec2(xx, yy)).rgb;
					}
					gl_FragColor = vec4( clr, 1.0 );
				} else if (diff > 0.0) {
					gl_FragColor = vec4(0.1, 0.1, 0.1, 1.0);
				} else {
					float gray = 0.3 * color.r + 0.59 * color.g + 0.11 * color.b;
					gl_FragColor = vec4(gray, gray, gray, 1.0);
				}
			}
		</script>
		<script id="fs4" type="x-shader/x-fragment">
			uniform sampler2D texture;
			uniform float centerX;
			uniform float centerY;
			uniform float radius;
			uniform float aspectRatioSq;
			uniform float time;
			varying vec2 vUv;
			void main( void ) {
				vec3 color = texture2D( texture, vUv).rgb;
				float dist = sqrt((vUv.x-0.5)*(vUv.x-0.5)*aspectRatioSq + (vUv.y)*( vUv.y));
				float sint = sin(time) ;
				float angle = 4.0 * atan(vUv.y / vUv.x);
				float fract = 1.0;
				float fdist = sin(angle - 5.0 * sint) * radius * 0.05;
				float ftint = 1.0;
				if ((dist + fdist) < radius) {
					ftint += 0.1 * (0.3 * color.r + 0.59 * color.g + 0.11 * color.b);
					fract += 1.8 * dist * dist;
				}
				vec3 clr = vec3(color.r*fract, color.g*fract/ftint , color.b*fract);
				gl_FragColor = vec4( clr, 1.0 );
			}
		</script>
		<script id="vs_btn" type="x-shader/x-vertex">
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			varying vec2 vUv;
			void main()
			{
				vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
				gl_Position = projectionMatrix * mvPosition;
				float fpos = floor((position.x + 39.0) / 40.0) * 40.0;
				vec4 lightPos = vec4(fpos, 10.0, 40.0, 1.0);
				eyePos = normalize(lightPos - gl_Position);
				eyeNormal = normalize(viewMatrix * vec4(normal, 1.0));
				vUv = uv;
			}
		</script>
		<script id="fs_btnPassive" type="x-shader/x-fragment">
			uniform float time;
			uniform float over;
			varying vec3 normInterp;
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			varying vec2 vUv;
			vec4 normalPlay(vec4 norm) {
				vec4 nnorm = norm;
				float tover = exp(over);
				float sint = sin(time * tover * 0.1);
				//nnorm.y += 1.1 * cos((vUv.y - over * sint) * 20.0);
				nnorm.x += 3.1 * sin((-vUv.y * vUv.y + over * sint) * 2.0);
				return normalize(nnorm);
			}
			vec3 phongColor(vec4 enorm, vec3 diffuse, vec3 specular, vec3 ambient)
			{
				vec4 r = reflect(-eyePos, enorm);
			    vec4 v = normalize(-eyePos);
			    float spec = max(dot(v, r), 0.0);
			    float diff = max(dot(enorm, eyePos), 0.0);
			    vec3 clr =  diff * diffuse +  pow(spec, 10.0) * specular + ambient;
				return clr;
			}
			void main(void) {
				vec4 enorm = normalPlay(eyeNormal);
				gl_FragColor = vec4(phongColor(enorm,
											vec3(0.8, 0.0, 0.0),
											vec3(0.8, 0.3, 0.3),
											vec3(0.1, 0.1, 0.1)), 1.0);
			}
		</script>
		<script id="fs_btnHover" type="x-shader/x-fragment">
			uniform float time;
			uniform float over;
			varying vec3 normInterp;
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			varying vec2 vUv;
			vec4 normalPlay(vec4 norm) {
				vec4 nnorm = norm;
				nnorm.y += 1.1 * sin(sin(time * over)  - vUv.y) * cos(vUv.x * 3.14);
				return normalize(nnorm);
			}
			vec3 phongColor(vec4 enorm, vec3 diffuse, vec3 specular, vec3 ambient)
			{
				vec4 r = reflect(-eyePos, enorm);
			    vec4 v = normalize(-eyePos);
			    float spec = max(dot(v, r), 0.0);
			    float diff = max(dot(enorm, eyePos), 0.0);
			    vec3 clr =  diff * diffuse +  pow(spec, 30.0) * specular + ambient;
				return clr;
			}
			void main(void) {
				vec4 enorm = normalPlay(eyeNormal);
				vec2 v2= normalize(vec2(gl_FragCoord.x, 1.0));
				gl_FragColor = vec4(phongColor(enorm,
											vec3(0.9, 0.9, 0.9),
											vec3(0.4, 0.4, 0.2),
											vec3(0.2, 0.2, 0.2)), 1.0);
			}
		</script>
		<script id="fs_btnActive" type="x-shader/x-fragment">
			uniform float time;
			uniform float over;
			varying vec3 normInterp;
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			varying vec2 vUv;
			vec4 normalPlay(vec4 norm) {
				vec4 nnorm = norm;
				float dist = sqrt((vUv.x - 0.5) * (vUv.x - 0.5) + (vUv.y - 0.5) * (vUv.y - 0.5));
				float cost = cos(over * time);
				nnorm.y += 0.7 * sin((dist - cost) * 31.4);
				return normalize(nnorm);
			}
			vec3 phongColor(vec4 enorm, vec3 diffuse, vec3 specular, vec3 ambient)
			{
				vec4 r = reflect(-eyePos, enorm);
			    vec4 v = normalize(-eyePos);
			    float spec = max(dot(v, r), 0.0);
			    float diff = max(dot(enorm, eyePos), 0.0);
			    vec3 clr =  diff * diffuse +  pow(spec, 4.0) * specular + ambient;
				return clr;
			}
			void main(void) {
				vec4 enorm = normalPlay(eyeNormal);
				vec2 v2= normalize(vec2(gl_FragCoord.x, 1.0));
				gl_FragColor = vec4(phongColor(enorm,
											vec3(1.0, 0.0, 0.0),
											vec3(0.8, 0.2, 0.2),
											vec3(0.2, 0.2, 0.2)), 1.0);
			}
		</script>
		<script id="fs_btnDisabled" type="x-shader/x-fragment">
			uniform float time;
			uniform float over;
			varying vec3 normInterp;
			varying vec4 eyeNormal;
			varying vec4 eyePos;
			varying vec2 vUv;
			vec4 normalPlay(vec4 norm) {
				vec4 nnorm = norm;
				nnorm.y += sin(time) * cos(vUv.x * 6.28);
				return normalize(nnorm);
			}
			vec3 phongColor(vec4 enorm, vec3 diffuse, vec3 specular, vec3 ambient)
			{
				vec4 r = reflect(-eyePos, enorm);
			    vec4 v = normalize(-eyePos);
			    float spec = max(dot(v, r), 0.0);
			    float diff = max(dot(enorm, eyePos), 0.0);
			    vec3 clr =  diff * diffuse +  pow(spec, 10.0) * specular + ambient;
				return clr;
			}
			void main(void) {
				vec4 enorm = normalPlay(eyeNormal);
				vec2 v2= normalize(vec2(gl_FragCoord.x, 1.0));
				gl_FragColor = vec4(phongColor(enorm,
											vec3(1.0, 0.0, 0.0),
											vec3(0.8, 0.8, 0.8),
											vec3(0.2, 0.2, 0.2)), 1.0);
			}
		</script>
		<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
		<script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="bower_components/threejs/build/three.js"></script>
		<script type="text/javascript" src="bower_components/threejs/examples/js/controls/TrackballControls.js"></script>
		<script type="text/javascript" src="bower_components/FitText.js/jquery.fittext.js"></script>
		<script type="text/javascript" src="bower_components/wowjs/dist/wow.min.js"></script>
		<script type="text/javascript" src="bower_components/jquery.easing/js/jquery.easing.min.js"></script>
		<script type="text/javascript" src="bower_components/jquery.pulsate/jquery.pulsate.min.js"></script>
		<script type="text/javascript" src="src/theme/js/creative.js"></script>
		<script src="/src/theme/fonts/comic.js" type="text/javascript"></script>
		<script type="text/javascript" src="src/stubs/GeometryUtils.js"></script>
		<script type="text/javascript" src="bower_components/threejs/examples/js/loaders/deprecated/SceneLoader.js"></script>
		<script type="text/javascript" src="bower_components/bootstrap-toggle/js/bootstrap-toggle.min.js"></script>
		<script type="text/javascript" src="src/stubs/bg.js"></script>
		<script type="text/javascript" src="src/stubs/e1.js"></script>
		<script type="text/javascript" src="src/stubs/e2.js"></script>
		<script type="text/javascript" src="src/stubs/e3.js"></script>
		<script type="text/javascript" src="src/stubs/e4.js"></script>
		<script type="text/javascript" src="src/stubs/e5.js"></script>
		<script type="text/javascript" src="src/stubs/e6.js"></script>
		<script type="text/javascript" src="src/stubs/e7.js"></script>
		<script type="text/javascript" src="src/stubs/e8.js"></script>
		<script type="text/javascript" src="src/stubs/e9.js"></script>
		<script type="text/javascript" src="src/stubs/e10.js"></script>
		<script type="text/javascript">
			function init() {
				Waver.apply(new Waver.effect(), "/src/theme/img/header.jpg");
				$('[data-toggle="tooltip"]').tooltip();
				setTimeout(function() { $("#mainCarousel").carousel("pause"); }, 3000);
				$("#carousel").hide();
				$("#thirdTip").hide();
				setTimeout(function() { $('#firstTip').tooltip('show'); }, 2000);

				var allOthers = function() {

					TorchLight.apply(new TorchLight.effect(), "/src/theme/img/header3.jpg", document.getElementById("effectsSampler"));
					SplashColor.apply(new SplashColor.effect(), "/src/theme/img/tulips.jpg", document.getElementById("effectsColor1"));
					(new SwimmingText.effect()).init(document.getElementById("effectsText1")).start();
					CarBox.apply(new CarBox.effect(), '/src/theme/meshes/car.json', document.getElementById("effects3D"));
					ButtonBar.apply(new ButtonBar.effect(), document.getElementById("effectControls"));
					IconShine.apply(new IconShine.effect(), "/src/theme/img/fxtemple.png", document.getElementById("iconshine1"));
					IconShine.apply(new IconShine.effect(), "/src/theme/img/psready.png", document.getElementById("iconshine2"));
					IconShine.apply(new IconShine.effect(), "/src/theme/img/mobilerd.png", document.getElementById("iconshine3"));
					IconShine.apply(new IconShine.effect(), "/src/theme/img/hltemple.png", document.getElementById("iconshine4"));
					IconShine.apply(new IconShine.effect(), "/src/theme/img/imglib.png", document.getElementById("iconshine5"));
					IconShine.apply(new IconShine.effect(), "/src/theme/img/expfmt.png", document.getElementById("iconshine6"));
				};
				setTimeout( allOthers, 3000 );
			}
			(function() {
				var _seenCount = 0;
				var _states = [false, false, false, false, false, false],
					_handlerGen = function(num, trueFunc, falseFunc) {
						return function(ev) {
							_states[num] = !_states[num];
							var jq = $(ev.currentTarget);
							if (_states[num]) {
								jq.addClass("active");
								setTimeout(trueFunc, 0);
							} else {
								jq.removeClass("active")
								setTimeout(falseFunc, 0);
							}
							++_seenCount;
							if (_seenCount > 9) {
								$("#thirdTip").show();
							}
							if (_seenCount > 12) {
								$("#thirdTip").tooltip("show");
							}
						};
					},
					_handlers = [];
				var carouselEffect;
				_handlers.push(_handlerGen(0,
						function() {
							if (!Waver.mkawesome.isStarted()) { Waver.mkawesome.start();} else { Waver.mkawesome.show();}
							$("#secondTip").tooltip("show");
						},
						function() {
							Waver.mkawesome.hide();
							$("#secondTip").tooltip("show");
						}
				));
				_handlers.push(_handlerGen(1,
						function() {
							if (!carouselEffect) {
								carouselEffect = new CarouselEffect(document.getElementById("carousel"),
					 						[ "./src/theme/img/sld1.png", "./src/theme/img/sld2.png","./src/theme/img/sld3.png"]);
							} else {
								carouselEffect.show();
							}
							$("#planeCarousel").hide();
							$("#carousel").show();
						},
						function() {
							carouselEffect.hide();
							$("#planeCarousel").show();
							$("#carousel").hide();
						}
				));
				_handlers.push(_handlerGen(2,
						function() {
							if (!CarBox.mkawesome.isStarted()) { CarBox.mkawesome.start(); } else { CarBox.mkawesome.show(); }
						},
						function() {
							CarBox.mkawesome.hide();
						}
				));
				_handlers.push(_handlerGen(3,
						function() {
							if (!ButtonBar.mkawesome.isStarted()) { ButtonBar.mkawesome.start(); } else {ButtonBar.mkawesome.show();}
						},
						function() {
							ButtonBar.mkawesome.hide();
						}
				));
				_handlers.push(_handlerGen(4,
						function() {
							if (!TorchLight.mkawesome.isStarted()) {
								TorchLight.mkawesome.start();
								SplashColor.mkawesome.start();
								SwimmingText.mkawesome.start();
							} else {
								TorchLight.mkawesome.show();
								SplashColor.mkawesome.show();
								SwimmingText.mkawesome.show();
							}
							$("#tulipImg").hide();
							$("#comic").hide();
							$("#torchImg").hide();
						},
						function() {
							$("#tulipImg").show();
							$("#comic").show();
							$("#torchImg").show();
							TorchLight.mkawesome.hide();
							SplashColor.mkawesome.hide();
							SwimmingText.mkawesome.hide();
						}
				));
				_handlers.push(_handlerGen(5,
						function() {
							$(".iconImage").hide();
							if (!IconShine.mkawesome.isStarted())  {
								IconShine.mkawesome.start();
							} else {
								IconShine.mkawesome.show();
							}
						},
						function() {
							$(".iconImage").show();
							IconShine.mkawesome.hide();
						}
				));
				window.effects = {
					ef1: function(ev) { _handlers[0](ev); },
					ef2: function(ev) { _handlers[1](ev); },
					ef3: function(ev) { _handlers[2](ev); },
					ef4: function(ev) { _handlers[3](ev); },
					ef5: function(ev) { _handlers[4](ev); },
					ef6: function(ev) { _handlers[5](ev); }
				};
			})();
		</script>
	</body>
</html>
