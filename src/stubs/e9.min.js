var IconShine=function(){function h(a,b,d){b=a.parentNode;this.scene=new THREE.Scene;this.camera=new THREE.OrthographicCamera(a.width/-2,a.width/2,a.height/2,a.height/-2,.01,15E3);this.camera.position.z=2E3;this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0});this.renderer.setSize(a.width,a.height);this.renderer.setClearColor(16777215,1);b.appendChild(this.renderer.domElement);this.uniforms={};this.delta=0}function n(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function f(){this.targetImg=
null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null}var p=!1,k=[],l=[],m=[];h.prototype.drawImage=function(a){var b=new THREE.PlaneBufferGeometry(a.width,a.height,1,1),d=new THREE.Texture(a);d.needsUpdate=!0;d.minFilter=THREE.NearestFilter;var c=new THREE.AmbientLight(16777215);this.scene.add(c);this.uniforms={time:{type:"f",value:0},texture:{type:"t",value:d},centerX:{type:"f",value:a.width},centerY:{type:"f",value:0},radius:{type:"f",value:.6},aspectRatioSq:{type:"f",
value:a.width*a.width/(a.height*a.height)}};a=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vs0").textContent,fragmentShader:document.getElementById("fs4").textContent,transparent:!0,opacity:0});b=new THREE.Mesh(b,a);b.position.x=0;b.position.y=0;b.position.z=0;this.scene.add(b);var g=this;$(this.renderer.domElement).hover(function(){g.delta=1},function(){g.delta=0});this.renderer.render(this.scene,this.camera)};h.prototype.render=function(){this.renderer.render(this.scene,
this.camera)};n.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||this.clock.start()};f.prototype.setTarget=function(a){this.targetImg=a;this.glCanvas=new h(a);this.glCanvas.drawImage(a);a.style.display="none"};f.prototype.setForever=function(){this.forever=!0};f.prototype.show=function(){$(this.glCanvas.renderer.domElement).show()};
f.prototype.hide=function(){$(this.glCanvas.renderer.domElement).hide()};f.prototype.start=function(){var a=0,b=.008,d=1;(new n([function(c,g,e){0==c.delta?(d=0<b?1:-1,b=0):b=.008*d;a+=1E3*e;if(5E-4<=a){e=c.uniforms.radius.value;e-=b;if(.3>=e||.9<=e)b*=-1,d*=-1;c.uniforms.radius.value=e;c.uniforms.time.value=g;a=0}},function(a,b,d){a.render()}],this.glCanvas)).start()};return{effect:f,apply:function(a,b,d){_parent=d;_jqParent=$(_parent);var c=_parent.appendChild(document.createElement("img"));c.addEventListener("load",
function(){k.push(function(){var b=c.height/c.width;c.width=100;c.height=100*b;a.setTarget(c);a.setForever();a.start()});l.push(function(){a.show()});m.push(function(){a.hide()})});c.style.position="absolute";c.style.width="100px";c.src=b;c.style.display="none"},mkawesome:{start:function(){for(var a=0,b=k.length;a<b;++a)k[a]();p=!0},show:function(){for(var a=0,b=l.length;a<b;++a)l[a]()},hide:function(){for(var a=0,b=m.length;a<b;++a)m[a]()},isStarted:function(){return p}}}}();