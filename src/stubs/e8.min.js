var ButtonBar=function(){function e(a){a=h;this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(75,4.5,1,15E3);this.camera.position.z=200;var b=new THREE.AmbientLight(16777215);this.scene.add(b);b=new THREE.DirectionalLight(16777215,.125);b.position.set(0,-1,0).normalize();this.scene.add(b);this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0});this.renderer.setPixelRatio(window.devicePixelRatio);this.renderer.setSize(900,200);this.btnHeight=this.btnWidth=300;this.uniforms={time:{type:"f",
value:1},over:{type:"f",value:.1}};for(var b=[new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1),new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1),new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1),new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1)],f=document.getElementById("vs_btn").textContent,f=[new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:f,fragmentShader:document.getElementById("fs_btnPassive").textContent}),new THREE.ShaderMaterial({uniforms:this.uniforms,
vertexShader:f,fragmentShader:document.getElementById("fs_btnHover").textContent}),new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:f,fragmentShader:document.getElementById("fs_btnActive").textContent}),new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:f,fragmentShader:document.getElementById("fs_btnDisabled").textContent})],c=-1.5*this.btnWidth-10,d=0;d<b.length;++d){var e=new THREE.Mesh(b[d],f[d]);e.position.set(c,0,0);this.scene.add(e);c+=this.btnWidth+10}a.appendChild(this.renderer.domElement);
var g=this;$(this.renderer.domElement).hover(function(){g.stopped||(g.uniforms.over.value=1)},function(){g.stopped||(g.uniforms.over.value=.1)})}function k(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function c(){this.targetImg=null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null;this.stopped=!1}var h=null,d={},l=!1;e.prototype.drawImage=function(a){a=new THREE.AmbientLight(16777215);this.scene.add(a);this.renderer.render(this.scene,this.camera)};
e.prototype.render=function(){this.renderer.render(this.scene,this.camera)};k.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||this.clock.start()};c.prototype.setTarget=function(a){this.targetImg=a;this.glCanvas=new e(a);this.glCanvas.drawImage(a)};c.prototype.setForever=function(){this.forever=!0};c.prototype.start=
function(){var a=this;(new k([function(b,c,d){a.stopped||(b.uniforms.time.value=c)},function(a,c,d){a.render()}],this.glCanvas)).start()};c.prototype.show=function(){this.stopped=!1};c.prototype.hide=function(){this.stopped=!0};return{effect:c,apply:function(a,b){h=b;$(h);a.setTarget(b);d.start=function(){a.start();l=!0};d.isStarted=function(){return l};d.show=function(){a.show()};d.hide=function(){a.hide()}},mkawesome:d}}();