var Effect=function(a,b,c){this.container=a;this.width=c||500;this.height=b||312;this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1E4);this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0});this.ambientlights=new THREE.AmbientLight(16777215);this.scene.add(this.ambientlights)};
Effect.prototype.apply=function(){this.renderer.shadowMapEnabled=!0;this.renderer.shadowMapType=THREE.PCFSoftShadowMap;this.renderer.setPixelRatio(window.devicePixelRatio);this.renderer.setSize(this.width,this.height);this.camera.position.set(-0,0,100);this.camera.lookAt(new THREE.Vector3(0,0,-1E3));this.container.height=this.height;this.container.width=this.width;this.container.appendChild(this.renderer.domElement)};
var CarouselEffect=function(a,b){Effect.call(this,a);this.images=b;this.textures=[];this.planes=[];this.carousel=new THREE.Group;this.carousel.position.set(0,0,0);this.loadTextures()};CarouselEffect.prototype=Object.create(Effect.prototype);CarouselEffect.prototype.constructor=CarouselEffect;CarouselEffect.prototype.loadTextures=function(){var a=this;this.images.forEach(function(b){var c=THREE.ImageUtils.loadTexture(b,{},function(){a.textures.push(c);a.textures.length==a.images.length&&a.init()})})};
function toRadians(a){return Math.PI/180*a}
CarouselEffect.prototype.init=function(){this.scaleTextures();for(var a=CarouselEffect.getImagePlane(this.textures[0]),b=this.textures.length,c=0,e=360/b,d=0;d<b;d++){var a=CarouselEffect.getImagePlane(this.textures[d]),f=100+(a.geometry.boundingBox.max.x-a.geometry.boundingBox.min.x)/(2*Math.tan(toRadians(180/b)));a.position.x=f*Math.sin(c);a.position.z=f*Math.cos(c);a.rotation.y=d*toRadians(e)+Math.PI;c+=toRadians(e);this.carousel.add(a)}this.scene.add(this.carousel);this.apply();this.renderer.render(this.scene,
this.camera);this.render()};CarouselEffect.prototype.render=function(){var a=this;requestAnimationFrame(function(){a.render()});this.renderer.render(this.scene,this.camera);this.carousel.rotation.y+=Math.PI/500};CarouselEffect.prototype.show=function(){$(this.renderer.domElement).show()};CarouselEffect.prototype.hide=function(){$(this.renderer.domElement).hide()};
CarouselEffect.getImagePlane=function(a){var b=new THREE.PlaneBufferGeometry(a.image.width,a.image.height,1,1);b.computeBoundingBox();a=new THREE.MeshBasicMaterial({map:a});a.side=THREE.DoubleSide;return new THREE.Mesh(b,a)};CarouselEffect.prototype.scaleTextures=function(){};