var Waver=function(){function f(a,b,c){this.scene=new THREE.Scene;this.camera=new THREE.OrthographicCamera(a.width/-2,a.width/2,a.height/2,a.height/-2,0,1E3);this.camera.position.z=0;this.renderer=new THREE.WebGLRenderer;this.renderer.setSize(a.width,a.height);a.parentNode.appendChild(this.renderer.domElement);monitorWindow.register(this.renderer,this.camera,a.width,a.height);this.uniforms={}}function g(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function c(){this.targetImg=
null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null}var e={},h=!1;f.prototype.drawImage=function(a){var b=new THREE.PlaneBufferGeometry(a.width,a.height,1,1);a=new THREE.Texture(a);a.needsUpdate=!0;a.minFilter=THREE.NearestFilter;var c=new THREE.AmbientLight(16777215);this.scene.add(c);this.uniforms={time:{type:"f",value:1},resolution:{type:"v2",value:new THREE.Vector2},texture:{type:"t",value:a}};a=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vs0").textContent,
fragmentShader:document.getElementById("fs0").textContent});b=new THREE.Mesh(b,a);b.position.x=0;b.position.y=0;b.position.z=0;this.scene.add(b);this.renderer.render(this.scene,this.camera)};f.prototype.render=function(){this.renderer.render(this.scene,this.camera)};g.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime());this.clock.running||this.clock.start()};
c.prototype.setTarget=function(a){this.targetImg=a;this.glCanvas=new f(a);this.glCanvas.drawImage(a);a.style.display="none"};c.prototype.setForever=function(){this.forever=!0};c.prototype.start=function(){(new g([function(a,b){a.uniforms.time.value=b},function(a,b){a.render()}],this.glCanvas)).start()};c.prototype.show=function(){$(this.glCanvas.renderer.domElement).show()};c.prototype.hide=function(){$(this.glCanvas.renderer.domElement).hide()};return{effect:c,apply:function(a,b){var c=document.getElementById("bgholder"),
d=c.appendChild(document.createElement("img"));d.addEventListener("load",function(){e.start=function(){a.setTarget(d);a.setForever();c.removeChild(d);a.start();h=!0};e.isStarted=function(){return h};e.hide=function(){a.hide()};e.show=function(){a.show()}});d.width=document.documentElement?document.documentElement.offsetWidth:$(window).width();d.height=document.documentElement?document.documentElement.offsetHeight:window.innerHeight;d.src=b},mkawesome:e}}();var TorchLight=function(){function k(a,b,e){b=a.parentNode;this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(60,a.width/a.height,.01,15E3);this.camera.position.z=200;this.renderer=new THREE.WebGLRenderer({alpha:!0});a=a.height*l.innerWidth()/a.width;this.renderer.setSize(l.innerWidth(),a);this.renderer.setClearColor(0,0);b.appendChild(this.renderer.domElement);this.uniforms={};this.mesh=null}function n(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function c(){this.targetImg=
null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null}var m=null,l=null,h={},p=!1;k.prototype.drawImage=function(a){var b=new THREE.PlaneBufferGeometry(a.width,a.height,1,1),e=new THREE.Texture(a);e.needsUpdate=!0;e.minFilter=THREE.NearestFilter;var d=new THREE.AmbientLight(16777215);this.scene.add(d);this.uniforms={time:{type:"f",value:1},resolution:{type:"v2",value:new THREE.Vector2},texture:{type:"t",value:e},posX:{type:"f",value:.4},posY:{type:"f",value:.5},radius:{type:"f",
value:.25},aspectRatioSq:{type:"f",value:a.width*a.width/(a.height*a.height)}};a=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vs0").textContent,fragmentShader:document.getElementById("fs1").textContent});this.mesh=new THREE.Mesh(b,a);this.mesh.position.x=0;this.mesh.position.y=0;this.mesh.position.z=-10;this.scene.add(this.mesh);this.renderer.render(this.scene,this.camera)};k.prototype.render=function(){this.renderer.render(this.scene,this.camera)};n.prototype.start=
function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||this.clock.start()};c.prototype.setTarget=function(a){this.targetImg=a;this.glCanvas=new k(a);this.glCanvas.drawImage(a)};c.prototype.setForever=function(){this.forever=!0};c.prototype.show=function(){$(this.glCanvas.renderer.domElement).show()};c.prototype.hide=function(){$(this.glCanvas.renderer.domElement).hide()};
c.prototype.start=function(){var a=0,b=.005,e=.005;(new n([function(d,g,f){a+=1E3*f;if(5E-7<=a){g=d.uniforms.posX.value;f=d.uniforms.posY.value;g+=b;f+=e;var c=Math.random()/5;g>=.85+c?b=-.005-Math.random()/100:g<=.05-c&&(b=.005+Math.random()/100);f>=.85+c?e=-.005-Math.random()/100:f<=.05-c&&(e=.005+Math.random()/100);d.uniforms.posX.value=g;d.uniforms.posY.value=f;a=0}},function(a,b,c){a.render()}],this.glCanvas)).start()};return{effect:c,apply:function(a,b,c){m=c;l=$(m);var d=m.appendChild(document.createElement("img"));
d.addEventListener("load",function(){h.start=function(){a.setTarget(d);a.setForever();a.start();p=!0};h.isStarted=function(){return p};h.show=function(){a.show()};h.hide=function(){a.hide()}});d.width=375;d.setAttribute("id","torchImg");d.src=b},mkawesome:h}}();var SplashColor=function(){function l(a,b,e,d){this.width=a;this.height=b;this.size=a*b*4;this.data=new Float32Array(this.size);for(var c=0;c<this.size;++c)this.data[c]=0;this.texture=new THREE.DataTexture(this.data,a,b,THREE.RGBAFormat,THREE.FloatType);this.texture.minFilter=THREE.NearestFilter;this.texture.magFilter=THREE.NearestFilter;this.texture.needsUpdate=!0;this.splashCount=0;this.splashCycle=e;this.splatRadius=d}function m(a){var b=a.parentNode;this.scene=new THREE.Scene;this.camera=new THREE.OrthographicCamera(a.width/
-2,a.width/2,a.height/2,a.height/-2,0,1E3);this.camera.position.z=0;this.renderer=new THREE.WebGLRenderer;a=a.height*n.innerWidth()/a.width;this.renderer.setSize(n.innerWidth(),a);b.appendChild(this.renderer.domElement);this.uniforms={};this.splashMask=null}function p(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function f(){this.targetImg=null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null}var g=null,n=null,k={};l.prototype.reset=function(){for(var a=
0;a<this.size;++a)this.data[a]=0;for(a=3;a<this.size;a+=4)this.data[a]=1;this.splashCount=0;this.texture.needsUpdate=!0};l.prototype.splash2=function(){if(this.splashCount>this.splashCycle)this.reset();else{++this.splashCount;var a=Math.floor(Math.random()*this.width),b=Math.floor(Math.random()*this.height);this.texture.needsUpdate=!0;return{x:a/this.width,y:b/this.height}}};m.prototype.drawImage=function(a,b){var e=new THREE.PlaneBufferGeometry(a.width,a.height,1,1),d=new THREE.Texture(a);d.needsUpdate=
!0;d.minFilter=THREE.NearestFilter;var c=new THREE.Texture(b);c.needsUpdate=!0;c.minFilter=THREE.NearestFilter;this.splashMask=new l(a.width,a.height,100,150);var h=new THREE.AmbientLight(16777215);this.scene.add(h);this.uniforms={texture:{type:"t",value:d},noiseTexture:{type:"t",value:c},splashMask:{type:"t",value:this.splashMask.texture},centerX:{type:"f",value:0},centerY:{type:"f",value:0}};d=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vs0").textContent,
fragmentShader:document.getElementById("fs3").textContent});e=new THREE.Mesh(e,d);e.position.x=0;e.position.y=0;e.position.z=0;this.scene.add(e);this.renderer.render(this.scene,this.camera)};m.prototype.render=function(){this.renderer.render(this.scene,this.camera)};p.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||
this.clock.start()};f.prototype.setTarget=function(a,b){this.targetImg=a;this.glCanvas=new m(a);this.glCanvas.drawImage(a,b);a.style.display="none";b.style.display="none"};f.prototype.setForever=function(){this.forever=!0};f.prototype.start=function(){var a=0,b=.1,e=.1,d=.5,c=.5;(new p([function(h,f,g){a+=100*g;if(8E-5<=a){if(h.splashMask&&(f=h.splashMask.splash2())){d+=b*Math.sin(f.x/10);c+=e*Math.sin(f.y/10);if(.9<d||.1>d)b=-b;if(.9<c||.1>c)e=-e;h.uniforms.centerX.value=d;h.uniforms.centerY.value=
c}a=0}},function(a,b,c){a.render()}],this.glCanvas)).start()};f.prototype.show=function(){$(this.glCanvas.renderer.domElement).show()};f.prototype.hide=function(){$(this.glCanvas.renderer.domElement).hide()};return{effect:f,apply:function(a,b,e){g=e;n=$(g);var d=g.appendChild(document.createElement("img"));d.addEventListener("load",function(){var c=g.appendChild(document.createElement("img"));c.addEventListener("load",function(){c.style.display="none";d.style.display="none";k.start=function(){a.setTarget(c,
d);a.setForever();g.removeChild(c);g.removeChild(d);a.start()};k.show=function(){a.show()};k.hide=function(){a.hide()}});c.style.position="absolute";c.width=375;c.height=250;c.src=b});d.src="/src/theme/img/noise.png"},mkawesome:k}}();var SwimmingText=function(){function u(){requestAnimationFrame(u);l.lookAt(q);r+=.001;var c=e.geometry,a=0,w=c.vertices.length,d=c.boundingBox.max.x-c.boundingBox.min.x,p=c.boundingBox.min.x+.5*d,m=600*Math.sin(10*r),t=0,h=0,k=0,v=0,h=0;if(70<Math.abs(m))for(t=0<m?m-70:m+70;a<w;++a)c.vertices[a].x=f.x[a]+(f.x[a]-p)/d*t*Math.sin(f.y[a]/10),c.vertices[a].z=f.z[a]+.5*t*Math.cos(f.x[a]/d*510),h=Math.abs(Math.sin(c.vertices[a].y)),k=Math.abs(Math.cos(c.vertices[a].x)),v=Math.abs(Math.cos(c.vertices[a].z)),
h=Math.min(.3*h+.59*k+.11*v,1),c.colors[a]=new THREE.Color(h,h,h);b.colorsNeedUpdate=!0;b.verticesNeedUpdate=!0;g.render(n,l)}function d(){}function p(){$(g.domElement).show()}var l,q,n,g,r=0,e,b,k,f={x:[],y:[],z:[]};d.prototype.init=function(c){$(c);l=new THREE.PerspectiveCamera(60,1.5,.001,15E3);l.position.set(0,0,400);q=new THREE.Vector3(0,0,100);n=new THREE.Scene;var a=new THREE.PointLight(16777215,100);a.position.set(0,100,90);n.add(a);k=new THREE.PointCloudMaterial({size:2,color:16777215,vertexColors:THREE.VertexColors});
b=new THREE.TextGeometry("Shapes",{size:70,height:20,curveSegments:4,font:"comic",weight:"normal",style:"normal",bevelThickness:1,bevelSize:1.5,bevelEnabled:!0,material:0,extrudeMaterial:1});b.computeBoundingBox();b.mergeVertices();b.computeVertexNormals();for(var a=0,d=b.vertices.length;a<d;++a)b.colors[a]=new THREE.Color(.5,.5,.5);a=-.5*(b.boundingBox.max.x-b.boundingBox.min.x);e=new THREE.PointCloud(b,k);e.position.x=a;e.position.y=0;e.position.z=0;q=new THREE.Vector3(0,0,0);e.rotation.x=0;e.rotation.y=
0;n.add(e);a=0;for(d=b.vertices.length;a<d;++a)f.x.push(b.vertices[a].x),f.y.push(b.vertices[a].y),f.z.push(b.vertices[a].z);g=new THREE.WebGLRenderer({antialias:!1,alpha:!0});g.setPixelRatio(window.devicePixelRatio);g.setSize(375,250);c.appendChild(g.domElement);return this};d.prototype.start=function(b){g.domElement.style.display="none";setTimeout(u,0)};return{effect:d,mkawesome:{start:p,show:p,hide:function(){$(g.domElement).hide()}}}}();var CarBox=function(){function h(a,b,c){this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(45,b/c,1,1E3);this.camera.position.set(365,50,365);this.camera.lookAt(new THREE.Vector3(0,-150,-50));this.renderer=new THREE.WebGLRenderer({antialias:!0,transparent:!0});this.renderer.shadowMapEnabled=!0;this.renderer.shadowMapType=THREE.PCFSoftShadowMap;this.renderer.setPixelRatio(window.devicePixelRatio);this.renderer.setSize(b,c);g.appendChild(this.renderer.domElement);this.mirrorSphereCamera=
new THREE.CubeCamera(.1,5E3,512);this.mirrorSphereCamera.position.set(200,200,200);this.scene.add(this.mirrorSphereCamera);this.scene.add(new THREE.AmbientLight(13421772));a=new THREE.DirectionalLight(16777215,1);new THREE.Vector3(1,20,1);this.scene.add(a);a=new THREE.CubeGeometry(2500,50,2E3);b=THREE.ImageUtils.loadTexture("/src/theme/img/crate9.jpg");b=new THREE.MeshPhongMaterial({map:b});a=new THREE.Mesh(a,b);a.position.x=0;a.position.y=-180;a.position.z=0;a.receiveShadow=!0;a.castShadow=!1;this.scene.add(a);
a=new THREE.DirectionalLight(16777215,400);a.position.x=0;a.position.y=50;a.position.z=0;a.shadowCameraNear=.1;a.castShadow=!0;a.onlyShadow=!0;a.shadowDarkness=.5;a.angle=Math.PI/2;this.scene.add(a);a=[];a.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/theme/img/posx.jpg")}));a.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/theme/img/posx.jpg")}));a.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/theme/img/posy.jpg")}));
a.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/theme/img/negy.jpg")}));a.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/theme/img/posx.jpg")}));a.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("/src/theme/img/negz.jpg")}));for(b=0;6>b;b++)a[b].side=THREE.BackSide;a=new THREE.MeshFaceMaterial(a);b=new THREE.CubeGeometry(5E3,5E3,5E3,1,1,1);a=new THREE.Mesh(b,a);this.scene.add(a)}function l(a,b){this.functions=a?a:[];this.clock=
new THREE.Clock(!0);this.cv=b}function e(){this.glCanvas=null;this.stopped=!1}var g=null,k=null,f={},m=!1;h.prototype.render=function(){this.mirrorSphereCamera.updateCubeMap(this.renderer,this.scene);this.renderer.render(this.scene,this.camera)};h.prototype.loadMesh=function(a){var b,c,d=this;(new THREE.SceneLoader).load(a,function(a){car=a.scene.children[1];c=car.children[0].children[0].children;for(b=0;b<c.length;b++)a=c[b],"body"===a.name&&(carBody=a,carBody.material.envMap=d.mirrorSphereCamera.renderTarget,
carBody.reflectivity=.2,carBody.material.combine=THREE.MixOperation),a instanceof THREE.Mesh&&(a.castShadow=!0);car.position.x=0;car.position.y=-150;car.position.z=-20;car.receiveShadow=!1;d.scene.add(car);d.renderer.render(d.scene,d.camera)},function(a){})};l.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||this.clock.start()};
e.prototype.setTarget=function(a,b,c,d){this.glCanvas=new h(b,c,d);this.glCanvas.loadMesh(a)};e.prototype.start=function(){var a=0,b=this;(new l([function(c,d,e){if(!b.stopped){d/=2;e=Math.sin(d);var f=Math.cos(d),g=300+150*e+150*f+a;a+=5*e*f;c.camera.position.x=g*Math.cos(d);c.camera.position.z=g*Math.sin(d);c.camera.lookAt(new THREE.Vector3(0,-150,-50))}},function(a,b,e){a.render()}],this.glCanvas)).start()};e.prototype.show=function(){this.stopped=!1};e.prototype.hide=function(){this.stopped=!0};
return{effect:e,apply:function(a,b,c){g=c;k=$(g);k.width();k.height();a.setTarget(b,g,800,500);f.start=function(){a.start();m=!0};f.hide=function(){a.hide()};f.show=function(){a.show()};f.isStarted=function(){return m}},mkawesome:f}}();var ButtonBar=function(){function e(a){a=h;this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(75,4.5,1,15E3);this.camera.position.z=200;var b=new THREE.AmbientLight(16777215);this.scene.add(b);b=new THREE.DirectionalLight(16777215,.125);b.position.set(0,-1,0).normalize();this.scene.add(b);this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0});this.renderer.setPixelRatio(window.devicePixelRatio);this.renderer.setSize(900,200);this.btnHeight=this.btnWidth=300;this.uniforms={time:{type:"f",
value:1},over:{type:"f",value:.1}};for(var b=[new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1),new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1),new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1),new THREE.PlaneBufferGeometry(this.btnWidth,this.btnHeight,1,1)],f=document.getElementById("vs_btn").textContent,f=[new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:f,fragmentShader:document.getElementById("fs_btnPassive").textContent}),new THREE.ShaderMaterial({uniforms:this.uniforms,
vertexShader:f,fragmentShader:document.getElementById("fs_btnHover").textContent}),new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:f,fragmentShader:document.getElementById("fs_btnActive").textContent}),new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:f,fragmentShader:document.getElementById("fs_btnDisabled").textContent})],c=-1.5*this.btnWidth-10,d=0;d<b.length;++d){var e=new THREE.Mesh(b[d],f[d]);e.position.set(c,0,0);this.scene.add(e);c+=this.btnWidth+10}a.appendChild(this.renderer.domElement);
var g=this;$(this.renderer.domElement).hover(function(){g.stopped||(g.uniforms.over.value=1)},function(){g.stopped||(g.uniforms.over.value=.1)})}function k(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function c(){this.targetImg=null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null;this.stopped=!1}var h=null,d={},l=!1;e.prototype.drawImage=function(a){a=new THREE.AmbientLight(16777215);this.scene.add(a);this.renderer.render(this.scene,this.camera)};
e.prototype.render=function(){this.renderer.render(this.scene,this.camera)};k.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||this.clock.start()};c.prototype.setTarget=function(a){this.targetImg=a;this.glCanvas=new e(a);this.glCanvas.drawImage(a)};c.prototype.setForever=function(){this.forever=!0};c.prototype.start=
function(){var a=this;(new k([function(b,c,d){a.stopped||(b.uniforms.time.value=c)},function(a,c,d){a.render()}],this.glCanvas)).start()};c.prototype.show=function(){this.stopped=!1};c.prototype.hide=function(){this.stopped=!0};return{effect:c,apply:function(a,b){h=b;$(h);a.setTarget(b);d.start=function(){a.start();l=!0};d.isStarted=function(){return l};d.show=function(){a.show()};d.hide=function(){a.hide()}},mkawesome:d}}();var IconShine=function(){function h(a,b,d){b=a.parentNode;this.scene=new THREE.Scene;this.camera=new THREE.OrthographicCamera(a.width/-2,a.width/2,a.height/2,a.height/-2,.01,15E3);this.camera.position.z=2E3;this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0});this.renderer.setSize(a.width,a.height);this.renderer.setClearColor(16777215,1);b.appendChild(this.renderer.domElement);this.uniforms={};this.delta=0}function n(a,b){this.functions=a?a:[];this.clock=new THREE.Clock(!0);this.cv=b}function f(){this.targetImg=
null;this.forever=!1;this.toTime=this.fromTime=0;this.animFrame=this.glCanvas=null}var p=!1,k=[],l=[],m=[];h.prototype.drawImage=function(a){var b=new THREE.PlaneBufferGeometry(a.width,a.height,1,1),d=new THREE.Texture(a);d.needsUpdate=!0;d.minFilter=THREE.NearestFilter;var c=new THREE.AmbientLight(16777215);this.scene.add(c);this.uniforms={time:{type:"f",value:0},texture:{type:"t",value:d},centerX:{type:"f",value:a.width},centerY:{type:"f",value:0},radius:{type:"f",value:.6},aspectRatioSq:{type:"f",
value:a.width*a.width/(a.height*a.height)}};a=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vs0").textContent,fragmentShader:document.getElementById("fs4").textContent,transparent:!0,opacity:0});b=new THREE.Mesh(b,a);b.position.x=0;b.position.y=0;b.position.z=0;this.scene.add(b);var g=this;$(this.renderer.domElement).hover(function(){g.delta=1},function(){g.delta=0});this.renderer.render(this.scene,this.camera)};h.prototype.render=function(){this.renderer.render(this.scene,
this.camera)};n.prototype.start=function(){var a=this;requestAnimationFrame(function(){a.start.call(a)});for(var b=0;b<this.functions.length;++b)this.functions[b].call(null,this.cv,this.clock.getElapsedTime(),this.clock.getDelta());this.clock.running||this.clock.start()};f.prototype.setTarget=function(a){this.targetImg=a;this.glCanvas=new h(a);this.glCanvas.drawImage(a);a.style.display="none"};f.prototype.setForever=function(){this.forever=!0};f.prototype.show=function(){$(this.glCanvas.renderer.domElement).show()};
f.prototype.hide=function(){$(this.glCanvas.renderer.domElement).hide()};f.prototype.start=function(){var a=0,b=.008,d=1;(new n([function(c,g,e){0==c.delta?(d=0<b?1:-1,b=0):b=.008*d;a+=1E3*e;if(5E-4<=a){e=c.uniforms.radius.value;e-=b;if(.3>=e||.9<=e)b*=-1,d*=-1;c.uniforms.radius.value=e;c.uniforms.time.value=g;a=0}},function(a,b,d){a.render()}],this.glCanvas)).start()};return{effect:f,apply:function(a,b,d){_parent=d;_jqParent=$(_parent);var c=_parent.appendChild(document.createElement("img"));c.addEventListener("load",
function(){k.push(function(){var b=c.height/c.width;c.width=100;c.height=100*b;a.setTarget(c);a.setForever();a.start()});l.push(function(){a.show()});m.push(function(){a.hide()})});c.style.position="absolute";c.style.width="100px";c.src=b;c.style.display="none"},mkawesome:{start:function(){for(var a=0,b=k.length;a<b;++a)k[a]();p=!0},show:function(){for(var a=0,b=l.length;a<b;++a)l[a]()},hide:function(){for(var a=0,b=m.length;a<b;++a)m[a]()},isStarted:function(){return p}}}}();var Effect=function(a,b,c){this.container=a;this.width=c||500;this.height=b||312;this.scene=new THREE.Scene;this.camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1E4);this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0});this.ambientlights=new THREE.AmbientLight(16777215);this.scene.add(this.ambientlights)};
Effect.prototype.apply=function(){this.renderer.shadowMapEnabled=!0;this.renderer.shadowMapType=THREE.PCFSoftShadowMap;this.renderer.setPixelRatio(window.devicePixelRatio);this.renderer.setSize(this.width,this.height);this.camera.position.set(-0,0,100);this.camera.lookAt(new THREE.Vector3(0,0,-1E3));this.container.height=this.height;this.container.width=this.width;this.container.appendChild(this.renderer.domElement)};
var CarouselEffect=function(a,b){Effect.call(this,a);this.images=b;this.textures=[];this.planes=[];this.carousel=new THREE.Group;this.carousel.position.set(0,0,0);this.loadTextures()};CarouselEffect.prototype=Object.create(Effect.prototype);CarouselEffect.prototype.constructor=CarouselEffect;CarouselEffect.prototype.loadTextures=function(){var a=this;this.images.forEach(function(b){var c=THREE.ImageUtils.loadTexture(b,{},function(){a.textures.push(c);a.textures.length==a.images.length&&a.init()})})};
function toRadians(a){return Math.PI/180*a}
CarouselEffect.prototype.init=function(){this.scaleTextures();for(var a=CarouselEffect.getImagePlane(this.textures[0]),b=this.textures.length,c=0,e=360/b,d=0;d<b;d++){var a=CarouselEffect.getImagePlane(this.textures[d]),f=100+(a.geometry.boundingBox.max.x-a.geometry.boundingBox.min.x)/(2*Math.tan(toRadians(180/b)));a.position.x=f*Math.sin(c);a.position.z=f*Math.cos(c);a.rotation.y=d*toRadians(e)+Math.PI;c+=toRadians(e);this.carousel.add(a)}this.scene.add(this.carousel);this.apply();this.renderer.render(this.scene,
this.camera);this.render()};CarouselEffect.prototype.render=function(){var a=this;requestAnimationFrame(function(){a.render()});this.renderer.render(this.scene,this.camera);this.carousel.rotation.y+=Math.PI/500};CarouselEffect.prototype.show=function(){$(this.renderer.domElement).show()};CarouselEffect.prototype.hide=function(){$(this.renderer.domElement).hide()};
CarouselEffect.getImagePlane=function(a){var b=new THREE.PlaneBufferGeometry(a.image.width,a.image.height,1,1);b.computeBoundingBox();a=new THREE.MeshBasicMaterial({map:a});a.side=THREE.DoubleSide;return new THREE.Mesh(b,a)};CarouselEffect.prototype.scaleTextures=function(){};